{"ast":null,"code":"var initEvent = function (cos) {\n  var listeners = {};\n\n  var getList = function (action) {\n    !listeners[action] && (listeners[action] = []);\n    return listeners[action];\n  };\n\n  cos.on = function (action, callback) {\n    if (action === 'task-list-update') {\n      console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n    }\n\n    getList(action).push(callback);\n  };\n\n  cos.off = function (action, callback) {\n    var list = getList(action);\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      callback === list[i] && list.splice(i, 1);\n    }\n  };\n\n  cos.emit = function (action, data) {\n    var list = getList(action).map(function (cb) {\n      return cb;\n    });\n\n    for (var i = 0; i < list.length; i++) {\n      list[i](data);\n    }\n  };\n};\n\nvar EventProxy = function () {\n  initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;","map":{"version":3,"names":["initEvent","cos","listeners","getList","action","on","callback","console","warn","push","off","list","i","length","splice","emit","data","map","cb","EventProxy","module","exports","init"],"sources":["/Users/yzbaoo/Desktop/huohua/ilc-web-packages/node_modules/cos-js-sdk-v5/src/event.js"],"sourcesContent":["var initEvent = function (cos) {\n    var listeners = {};\n    var getList = function (action) {\n        !listeners[action] && (listeners[action] = []);\n        return listeners[action];\n    };\n    cos.on = function (action, callback) {\n        if (action === 'task-list-update') {\n            console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n        }\n        getList(action).push(callback);\n    };\n    cos.off = function (action, callback) {\n        var list = getList(action);\n        for (var i = list.length - 1; i >= 0; i--) {\n            callback === list[i] && list.splice(i, 1);\n        }\n    };\n    cos.emit = function (action, data) {\n        var list = getList(action).map(function (cb) {\n            return cb;\n        });\n        for (var i = 0; i < list.length; i++) {\n            list[i](data);\n        }\n    };\n};\n\nvar EventProxy = function () {\n    initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;"],"mappings":"AAAA,IAAIA,SAAS,GAAG,UAAUC,GAAV,EAAe;EAC3B,IAAIC,SAAS,GAAG,EAAhB;;EACA,IAAIC,OAAO,GAAG,UAAUC,MAAV,EAAkB;IAC5B,CAACF,SAAS,CAACE,MAAD,CAAV,KAAuBF,SAAS,CAACE,MAAD,CAAT,GAAoB,EAA3C;IACA,OAAOF,SAAS,CAACE,MAAD,CAAhB;EACH,CAHD;;EAIAH,GAAG,CAACI,EAAJ,GAAS,UAAUD,MAAV,EAAkBE,QAAlB,EAA4B;IACjC,IAAIF,MAAM,KAAK,kBAAf,EAAmC;MAC/BG,OAAO,CAACC,IAAR,CAAa,qBAAqBJ,MAArB,GAA8B,0DAA3C;IACH;;IACDD,OAAO,CAACC,MAAD,CAAP,CAAgBK,IAAhB,CAAqBH,QAArB;EACH,CALD;;EAMAL,GAAG,CAACS,GAAJ,GAAU,UAAUN,MAAV,EAAkBE,QAAlB,EAA4B;IAClC,IAAIK,IAAI,GAAGR,OAAO,CAACC,MAAD,CAAlB;;IACA,KAAK,IAAIQ,CAAC,GAAGD,IAAI,CAACE,MAAL,GAAc,CAA3B,EAA8BD,CAAC,IAAI,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;MACvCN,QAAQ,KAAKK,IAAI,CAACC,CAAD,CAAjB,IAAwBD,IAAI,CAACG,MAAL,CAAYF,CAAZ,EAAe,CAAf,CAAxB;IACH;EACJ,CALD;;EAMAX,GAAG,CAACc,IAAJ,GAAW,UAAUX,MAAV,EAAkBY,IAAlB,EAAwB;IAC/B,IAAIL,IAAI,GAAGR,OAAO,CAACC,MAAD,CAAP,CAAgBa,GAAhB,CAAoB,UAAUC,EAAV,EAAc;MACzC,OAAOA,EAAP;IACH,CAFU,CAAX;;IAGA,KAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;MAClCD,IAAI,CAACC,CAAD,CAAJ,CAAQI,IAAR;IACH;EACJ,CAPD;AAQH,CA1BD;;AA4BA,IAAIG,UAAU,GAAG,YAAY;EACzBnB,SAAS,CAAC,IAAD,CAAT;AACH,CAFD;;AAIAoB,MAAM,CAACC,OAAP,CAAeC,IAAf,GAAsBtB,SAAtB;AACAoB,MAAM,CAACC,OAAP,CAAeF,UAAf,GAA4BA,UAA5B"},"metadata":{},"sourceType":"script"}