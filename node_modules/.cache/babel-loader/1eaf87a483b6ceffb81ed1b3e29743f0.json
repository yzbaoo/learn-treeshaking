{"ast":null,"code":"import { __asyncGenerator, __asyncValues, __await, __generator } from \"tslib\";\nimport { EventStreamMarshaller as EventMarshaller } from \"@aws-sdk/eventstream-marshaller\";\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getUnmarshalledStream } from \"./getUnmarshalledStream\";\n\nvar EventStreamMarshaller = function () {\n  function EventStreamMarshaller(_a) {\n    var utf8Encoder = _a.utf8Encoder,\n        utf8Decoder = _a.utf8Decoder;\n    this.eventMarshaller = new EventMarshaller(utf8Encoder, utf8Decoder);\n    this.utfEncoder = utf8Encoder;\n  }\n\n  EventStreamMarshaller.prototype.deserialize = function (body, deserializer) {\n    var chunkedStream = getChunkedStream(body);\n    var unmarshalledStream = getUnmarshalledStream(chunkedStream, {\n      eventMarshaller: this.eventMarshaller,\n      deserializer: deserializer,\n      toUtf8: this.utfEncoder\n    });\n    return unmarshalledStream;\n  };\n\n  EventStreamMarshaller.prototype.serialize = function (input, serializer) {\n    var _a;\n\n    var self = this;\n\n    var serializedIterator = function () {\n      return __asyncGenerator(this, arguments, function () {\n        var input_1, input_1_1, chunk, payloadBuf, e_1_1;\n\n        var e_1, _a;\n\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              _b.trys.push([0, 7, 8, 13]);\n\n              input_1 = __asyncValues(input);\n              _b.label = 1;\n\n            case 1:\n              return [4, __await(input_1.next())];\n\n            case 2:\n              if (!(input_1_1 = _b.sent(), !input_1_1.done)) return [3, 6];\n              chunk = input_1_1.value;\n              payloadBuf = self.eventMarshaller.marshall(serializer(chunk));\n              return [4, __await(payloadBuf)];\n\n            case 3:\n              return [4, _b.sent()];\n\n            case 4:\n              _b.sent();\n\n              _b.label = 5;\n\n            case 5:\n              return [3, 1];\n\n            case 6:\n              return [3, 13];\n\n            case 7:\n              e_1_1 = _b.sent();\n              e_1 = {\n                error: e_1_1\n              };\n              return [3, 13];\n\n            case 8:\n              _b.trys.push([8,, 11, 12]);\n\n              if (!(input_1_1 && !input_1_1.done && (_a = input_1.return))) return [3, 10];\n              return [4, __await(_a.call(input_1))];\n\n            case 9:\n              _b.sent();\n\n              _b.label = 10;\n\n            case 10:\n              return [3, 12];\n\n            case 11:\n              if (e_1) throw e_1.error;\n              return [7];\n\n            case 12:\n              return [7];\n\n            case 13:\n              return [4, __await(new Uint8Array(0))];\n\n            case 14:\n              return [4, _b.sent()];\n\n            case 15:\n              _b.sent();\n\n              return [2];\n          }\n        });\n      });\n    };\n\n    return _a = {}, _a[Symbol.asyncIterator] = serializedIterator, _a;\n  };\n\n  return EventStreamMarshaller;\n}();\n\nexport { EventStreamMarshaller };","map":{"version":3,"names":["__asyncGenerator","__asyncValues","__await","__generator","EventStreamMarshaller","EventMarshaller","getChunkedStream","getUnmarshalledStream","_a","utf8Encoder","utf8Decoder","eventMarshaller","utfEncoder","prototype","deserialize","body","deserializer","chunkedStream","unmarshalledStream","toUtf8","serialize","input","serializer","self","serializedIterator","arguments","input_1","input_1_1","chunk","payloadBuf","e_1_1","e_1","_b","label","trys","push","next","sent","done","value","marshall","error","return","call","Uint8Array","Symbol","asyncIterator"],"sources":["/Users/yzbaoo/Desktop/huohua/ilc-web-packages/node_modules/@aws-sdk/eventstream-serde-universal/dist-es/EventStreamMarshaller.js"],"sourcesContent":["import { __asyncGenerator, __asyncValues, __await, __generator } from \"tslib\";\nimport { EventStreamMarshaller as EventMarshaller } from \"@aws-sdk/eventstream-marshaller\";\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getUnmarshalledStream } from \"./getUnmarshalledStream\";\nvar EventStreamMarshaller = (function () {\n    function EventStreamMarshaller(_a) {\n        var utf8Encoder = _a.utf8Encoder, utf8Decoder = _a.utf8Decoder;\n        this.eventMarshaller = new EventMarshaller(utf8Encoder, utf8Decoder);\n        this.utfEncoder = utf8Encoder;\n    }\n    EventStreamMarshaller.prototype.deserialize = function (body, deserializer) {\n        var chunkedStream = getChunkedStream(body);\n        var unmarshalledStream = getUnmarshalledStream(chunkedStream, {\n            eventMarshaller: this.eventMarshaller,\n            deserializer: deserializer,\n            toUtf8: this.utfEncoder,\n        });\n        return unmarshalledStream;\n    };\n    EventStreamMarshaller.prototype.serialize = function (input, serializer) {\n        var _a;\n        var self = this;\n        var serializedIterator = function () {\n            return __asyncGenerator(this, arguments, function () {\n                var input_1, input_1_1, chunk, payloadBuf, e_1_1;\n                var e_1, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 7, 8, 13]);\n                            input_1 = __asyncValues(input);\n                            _b.label = 1;\n                        case 1: return [4, __await(input_1.next())];\n                        case 2:\n                            if (!(input_1_1 = _b.sent(), !input_1_1.done)) return [3, 6];\n                            chunk = input_1_1.value;\n                            payloadBuf = self.eventMarshaller.marshall(serializer(chunk));\n                            return [4, __await(payloadBuf)];\n                        case 3: return [4, _b.sent()];\n                        case 4:\n                            _b.sent();\n                            _b.label = 5;\n                        case 5: return [3, 1];\n                        case 6: return [3, 13];\n                        case 7:\n                            e_1_1 = _b.sent();\n                            e_1 = { error: e_1_1 };\n                            return [3, 13];\n                        case 8:\n                            _b.trys.push([8, , 11, 12]);\n                            if (!(input_1_1 && !input_1_1.done && (_a = input_1.return))) return [3, 10];\n                            return [4, __await(_a.call(input_1))];\n                        case 9:\n                            _b.sent();\n                            _b.label = 10;\n                        case 10: return [3, 12];\n                        case 11:\n                            if (e_1) throw e_1.error;\n                            return [7];\n                        case 12: return [7];\n                        case 13: return [4, __await(new Uint8Array(0))];\n                        case 14: return [4, _b.sent()];\n                        case 15:\n                            _b.sent();\n                            return [2];\n                    }\n                });\n            });\n        };\n        return _a = {},\n            _a[Symbol.asyncIterator] = serializedIterator,\n            _a;\n    };\n    return EventStreamMarshaller;\n}());\nexport { EventStreamMarshaller };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}