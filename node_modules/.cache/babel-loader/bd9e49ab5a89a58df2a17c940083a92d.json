{"ast":null,"code":"//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\nvar element_start_char = \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function (obj) {\n  var l = [];\n\n  if (obj instanceof Object) {\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k)) {\n        l.push(k);\n      }\n    }\n  }\n\n  return l;\n};\n\nvar process_to_xml = function (node_data, options) {\n  var makeNode = function (name, content, attributes, level, hasSubNodes) {\n    var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n    var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n\n    if (options.removeIllegalNameCharacters) {\n      name = name.replace(element_replace, '_');\n    }\n\n    var node = [indent, '<', name, attributes || ''];\n\n    if (content && content.length > 0) {\n      node.push('>');\n      node.push(content);\n      hasSubNodes && node.push(indent);\n      node.push('</');\n      node.push(name);\n      node.push('>');\n    } else {\n      node.push('/>');\n    }\n\n    return node.join('');\n  };\n\n  return function fn(node_data, node_descriptor, level) {\n    var type = typeof node_data;\n\n    if (Array.isArray ? Array.isArray(node_data) : node_data instanceof Array) {\n      type = 'array';\n    } else if (node_data instanceof Date) {\n      type = 'date';\n    }\n\n    switch (type) {\n      //if value is an array create child nodes from values\n      case 'array':\n        var ret = [];\n        node_data.map(function (v) {\n          ret.push(fn(v, 1, level + 1)); //entries that are values of an array are the only ones that can be special node descriptors\n        });\n        options.prettyPrint && ret.push('\\n');\n        return ret.join('');\n        break;\n\n      case 'date':\n        // cast dates to ISO 8601 date (soap likes it)\n        return node_data.toJSON ? node_data.toJSON() : node_data + '';\n        break;\n\n      case 'object':\n        var nodes = [];\n\n        for (var name in node_data) {\n          if (node_data.hasOwnProperty(name)) {\n            if (node_data[name] instanceof Array) {\n              for (var j = 0; j < node_data[name].length; j++) {\n                if (node_data[name].hasOwnProperty(j)) {\n                  nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                }\n              }\n            } else {\n              nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n            }\n          }\n        }\n\n        options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n        return nodes.join('');\n        break;\n\n      case 'function':\n        return node_data();\n        break;\n\n      default:\n        return options.escape ? esc(node_data) : '' + node_data;\n    }\n  }(node_data, 0, 0);\n};\n\nvar xml_header = function (standalone) {\n  var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n  if (standalone) {\n    ret.push(' standalone=\"yes\"');\n  }\n\n  ret.push('?>');\n  return ret.join('');\n};\n\nfunction esc(str) {\n  return ('' + str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n  if (!options) {\n    options = {\n      xmlHeader: {\n        standalone: true\n      },\n      prettyPrint: true,\n      indent: \"  \",\n      escape: true\n    };\n  }\n\n  if (typeof obj == 'string') {\n    try {\n      obj = JSON.parse(obj.toString());\n    } catch (e) {\n      return false;\n    }\n  }\n\n  var xmlheader = '';\n  var docType = '';\n\n  if (options) {\n    if (typeof options == 'object') {\n      // our config is an object\n      if (options.xmlHeader) {\n        // the user wants an xml header\n        xmlheader = xml_header(!!options.xmlHeader.standalone);\n      }\n\n      if (typeof options.docType != 'undefined') {\n        docType = '<!DOCTYPE ' + options.docType + '>';\n      }\n    } else {\n      // our config is a boolean value, so just add xml header\n      xmlheader = xml_header();\n    }\n  }\n\n  options = options || {};\n  var ret = [xmlheader, options.prettyPrint && docType ? '\\n' : '', docType, process_to_xml(obj, options)];\n  return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};","map":{"version":3,"names":["element_start_char","element_non_start_char","element_replace","RegExp","not_safe_in_xml","objKeys","obj","l","Object","k","hasOwnProperty","push","process_to_xml","node_data","options","makeNode","name","content","attributes","level","hasSubNodes","indent_value","indent","undefined","prettyPrint","Array","join","removeIllegalNameCharacters","replace","node","length","fn","node_descriptor","type","isArray","Date","ret","map","v","toJSON","nodes","j","escape","esc","xml_header","standalone","str","module","exports","xmlHeader","JSON","parse","toString","e","xmlheader","docType"],"sources":["/Users/yzbaoo/Desktop/huohua/ilc-web-packages/node_modules/cos-js-sdk-v5/lib/json2xml.js"],"sourcesContent":["//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\n\nvar element_start_char =\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function (obj) {\n    var l = [];\n    if (obj instanceof Object) {\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                l.push(k);\n            }\n        }\n    }\n    return l;\n};\nvar process_to_xml = function (node_data, options) {\n\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n        if (options.removeIllegalNameCharacters) {\n            name = name.replace(element_replace, '_');\n        }\n\n        var node = [indent, '<', name, (attributes || '')];\n        if (content && content.length > 0) {\n            node.push('>')\n            node.push(content);\n            hasSubNodes && node.push(indent);\n            node.push('</');\n            node.push(name);\n            node.push('>');\n        } else {\n            node.push('/>');\n        }\n        return node.join('');\n    };\n\n    return (function fn(node_data, node_descriptor, level) {\n        var type = typeof node_data;\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\n            type = 'array';\n        } else if (node_data instanceof Date) {\n            type = 'date';\n        }\n\n        switch (type) {\n            //if value is an array create child nodes from values\n            case 'array':\n                var ret = [];\n                node_data.map(function (v) {\n                    ret.push(fn(v, 1, level + 1));\n                    //entries that are values of an array are the only ones that can be special node descriptors\n                });\n                options.prettyPrint && ret.push('\\n');\n                return ret.join('');\n                break;\n\n            case 'date':\n                // cast dates to ISO 8601 date (soap likes it)\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\n                break;\n\n            case 'object':\n                var nodes = [];\n                for (var name in node_data) {\n                    if (node_data.hasOwnProperty(name)) {\n                        if (node_data[name] instanceof Array) {\n                            for (var j = 0; j < node_data[name].length; j++) {\n                                if (node_data[name].hasOwnProperty(j)) {\n                                    nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                                }\n                            }\n                        } else {\n                            nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n                        }\n                    }\n                }\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n                return nodes.join('');\n                break;\n\n            case 'function':\n                return node_data();\n                break;\n\n            default:\n                return options.escape ? esc(node_data) : '' + node_data;\n        }\n\n    }(node_data, 0, 0))\n};\n\n\nvar xml_header = function (standalone) {\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n    if (standalone) {\n        ret.push(' standalone=\"yes\"');\n    }\n    ret.push('?>');\n\n    return ret.join('');\n};\n\nfunction esc(str) {\n    return ('' + str).replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&apos;')\n        .replace(/\"/g, '&quot;')\n        .replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n    if (!options) {\n        options = {\n            xmlHeader: {\n                standalone: true\n            },\n            prettyPrint: true,\n            indent: \"  \",\n            escape: true,\n        };\n    }\n\n    if (typeof obj == 'string') {\n        try {\n            obj = JSON.parse(obj.toString());\n        } catch (e) {\n            return false;\n        }\n    }\n\n    var xmlheader = '';\n    var docType = '';\n    if (options) {\n        if (typeof options == 'object') {\n            // our config is an object\n\n            if (options.xmlHeader) {\n                // the user wants an xml header\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\n            }\n\n            if (typeof options.docType != 'undefined') {\n                docType = '<!DOCTYPE ' + options.docType + '>'\n            }\n        } else {\n            // our config is a boolean value, so just add xml header\n            xmlheader = xml_header();\n        }\n    }\n    options = options || {}\n\n    var ret = [\n        xmlheader,\n        (options.prettyPrint && docType ? '\\n' : ''),\n        docType,\n        process_to_xml(obj, options)\n    ];\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}